import{s as U,e as k,c as D,b as I,f as u,h,i as p,n as E,O as F,a as M,t as x,g as N,d as w,j as G,k as O,H as J,C as K,D as P,q as Q,l as S,P as W}from"./scheduler.DC8yHMXg.js";import{S as T,i as j,c as _,b as v,m as b,t as $,a as y,d as C}from"./index.D1IU_8Bf.js";import{b as z}from"./entry.BKZevkuv.js";import{I as V,T as X,g as Y,c as Z}from"./Navigation._NxIUbDz.js";import{p as ee}from"./events.C0gPpjQj.js";import{a as te}from"./state.BOev6uF6.js";import{a as le}from"./TableRow.CGa9ID3c.js";import{D as H}from"./Details.C0oHPUq7.js";import{e as L}from"./each.ByX00CxH.js";function R(n,e,l){const t=n.slice();return t[1]=e[l],t[3]=l,t}function ne(n){let e,l=",";return{c(){e=k("span"),e.textContent=l,this.h()},l(t){e=D(t,"SPAN",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-l39lh9"&&(e.textContent=l),this.h()},h(){h(e,"class","pr-1")},m(t,s){p(t,e,s)},d(t){t&&u(e)}}}function q(n){let e,l,t=n[1].text+"",s,a,i=n[3]>0&&ne();return{c(){i&&i.c(),e=M(),l=k("a"),s=x(t),this.h()},l(r){i&&i.l(r),e=N(r),l=D(r,"A",{href:!0,class:!0});var c=I(l);s=w(c,t),c.forEach(u),this.h()},h(){h(l,"href",a=n[1].url),h(l,"class","relative hover:underline")},m(r,c){i&&i.m(r,c),p(r,e,c),p(r,l,c),G(l,s)},p(r,c){c&1&&t!==(t=r[1].text+"")&&O(s,t),c&1&&a!==(a=r[1].url)&&h(l,"href",a)},d(r){r&&(u(e),u(l)),i&&i.d(r)}}}function ae(n){let e,l=L(n[0]),t=[];for(let s=0;s<l.length;s+=1)t[s]=q(R(n,l,s));return{c(){e=k("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=D(s,"DIV",{class:!0});var a=I(e);for(let i=0;i<t.length;i+=1)t[i].l(a);a.forEach(u),this.h()},h(){h(e,"class","flex flex-nowrap text-sm text-white")},m(s,a){p(s,e,a);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(e,null)},p(s,[a]){if(a&1){l=L(s[0]);let i;for(i=0;i<l.length;i+=1){const r=R(s,l,i);t[i]?t[i].p(r,a):(t[i]=q(r),t[i].c(),t[i].m(e,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=l.length}},i:E,o:E,d(s){s&&u(e),F(t,s)}}}function se(n,e,l){let{links:t}=e;return n.$$set=s=>{"links"in s&&l(0,t=s.links)},[t]}class ie extends T{constructor(e){super(),j(this,e,se,ae,U,{links:0})}}function oe(n){let e;return{c(){e=x("flag_circle")},l(l){e=w(l,"flag_circle")},m(l,t){p(l,e,t)},d(l){l&&u(e)}}}function re(n){let e=(n[1]!==null?n[1]:n[0]?"Solved":"Unsolved")+"",l;return{c(){l=x(e)},l(t){l=w(t,e)},m(t,s){p(t,l,s)},p(t,s){s&3&&e!==(e=(t[1]!==null?t[1]:t[0]?"Solved":"Unsolved")+"")&&O(l,e)},d(t){t&&u(l)}}}function fe(n){let e,l,t,s,a,i,r,c;l=new V({props:{class:"text-lg "+(n[0]?"text-green-500":"font-light text-neutral-400"),fill:n[0],$$slots:{default:[oe]},$$scope:{ctx:n}}});let m=[{class:"leading-none"},{"aria-label":t=n[1]!==null?n[1]:n[0]?"Solved":"Unsolved"},n[2]],g={};for(let f=0;f<m.length;f+=1)g=K(g,m[f]);return a=new X({props:{open:n[5],content:n[4],$$slots:{default:[re]},$$scope:{ctx:n}}}),{c(){e=k("div"),_(l.$$.fragment),s=M(),_(a.$$.fragment),this.h()},l(f){e=D(f,"DIV",{class:!0,"aria-label":!0});var o=I(e);v(l.$$.fragment,o),o.forEach(u),s=N(f),v(a.$$.fragment,f),this.h()},h(){P(e,g)},m(f,o){p(f,e,o),b(l,e,null),p(f,s,o),b(a,f,o),i=!0,r||(c=Q(n[2].action(e)),r=!0)},p(f,[o]){const d={};o&1&&(d.class="text-lg "+(f[0]?"text-green-500":"font-light text-neutral-400")),o&1&&(d.fill=f[0]),o&64&&(d.$$scope={dirty:o,ctx:f}),l.$set(d),P(e,g=Y(m,[{class:"leading-none"},(!i||o&3&&t!==(t=f[1]!==null?f[1]:f[0]?"Solved":"Unsolved"))&&{"aria-label":t},o&4&&f[2]]));const A={};o&67&&(A.$$scope={dirty:o,ctx:f}),a.$set(A)},i(f){i||($(l.$$.fragment,f),$(a.$$.fragment,f),i=!0)},o(f){y(l.$$.fragment,f),y(a.$$.fragment,f),i=!1},d(f){f&&(u(e),u(s)),C(l),C(a,f),r=!1,c()}}}function ce(n,e,l){let t,{solved:s}=e,{label:a=null}=e;const{elements:{trigger:i,content:r},states:{open:c}}=Z({positioning:{placement:"top"},openDelay:300,disableHoverableContent:!0});return S(n,i,m=>l(2,t=m)),n.$$set=m=>{"solved"in m&&l(0,s=m.solved),"label"in m&&l(1,a=m.label)},[s,a,t,i,r,c]}class B extends T{constructor(e){super(),j(this,e,ce,fe,U,{solved:0,label:1})}}function me(n){let e;return{c(){e=x("play_arrow")},l(l){e=w(l,"play_arrow")},m(l,t){p(l,e,t)},d(l){l&&u(e)}}}function ue(n){let e,l;return e=new V({props:{class:"-mx-1",fill:!0,$$slots:{default:[me]},$$scope:{ctx:n}}}),{c(){_(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,s){b(e,t,s),l=!0},p(t,s){const a={};s&512&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){l||($(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){C(e,t)}}}function pe(n){var t,s;let e,l;return e=new le({props:{index:n[0],cells:[{type:"comp",priority:0,size:4,component:H,props:{imageUrl:z+n[1].extraData.imageUrl,imageAlt:"Challenge cover",first:n[1].name,firstColor:n[3],second:(t=n[1].extraData.authors)==null?void 0:t.join(", ")}},...n[2],{type:"simple",priority:2,size:1,visible:`hidden ${n[2].length>0?"@3xl:flex":"@2xl:flex"}`,alignment:"items-end",class:"text-sm",value:n[1].points.toString()},{type:"simple",priority:3,size:1,visible:`hidden ${n[2].length>0?"@4xl:flex":"@3xl:flex"}`,alignment:"items-end",class:"text-sm",value:n[1].solves.toString()},{type:"comp",priority:0,size:1,alignment:"items-end",component:B,props:{solved:n[1].solvedByMe}}],actionLabel:"Play "+n[1].name+(n[1].extraData?" by "+((s=n[1].extraData.authors)==null?void 0:s.join(", ")):""),$$slots:{actionIcon:[ue]},$$scope:{ctx:n}}}),e.$on("click",n[8]),{c(){_(e.$$.fragment)},l(a){v(e.$$.fragment,a)},m(a,i){b(e,a,i),l=!0},p(a,[i]){var c,m;const r={};i&1&&(r.index=a[0]),i&14&&(r.cells=[{type:"comp",priority:0,size:4,component:H,props:{imageUrl:z+a[1].extraData.imageUrl,imageAlt:"Challenge cover",first:a[1].name,firstColor:a[3],second:(c=a[1].extraData.authors)==null?void 0:c.join(", ")}},...a[2],{type:"simple",priority:2,size:1,visible:`hidden ${a[2].length>0?"@3xl:flex":"@2xl:flex"}`,alignment:"items-end",class:"text-sm",value:a[1].points.toString()},{type:"simple",priority:3,size:1,visible:`hidden ${a[2].length>0?"@4xl:flex":"@3xl:flex"}`,alignment:"items-end",class:"text-sm",value:a[1].solves.toString()},{type:"comp",priority:0,size:1,alignment:"items-end",component:B,props:{solved:a[1].solvedByMe}}]),i&2&&(r.actionLabel="Play "+a[1].name+(a[1].extraData?" by "+((m=a[1].extraData.authors)==null?void 0:m.join(", ")):"")),i&512&&(r.$$scope={dirty:i,ctx:a}),e.$set(r)},i(a){l||($(e.$$.fragment,a),l=!0)},o(a){y(e.$$.fragment,a),l=!1},d(a){C(e,a)}}}function ge(n,e,l){let t,s,a;S(n,te,o=>l(6,s=o)),S(n,ee,o=>l(7,a=o));const i=W();let{index:r}=e,{challenge:c}=e,{listCategory:m=!1}=e,g;const f=()=>i("play");return n.$$set=o=>{"index"in o&&l(0,r=o.index),"challenge"in o&&l(1,c=o.challenge),"listCategory"in o&&l(5,m=o.listCategory)},n.$$.update=()=>{n.$$.dirty&130&&l(3,t=a.current===c.id?"text-firebrick-400 group-hover:text-firebrick-300 group-focus-within:text-firebrick-300":null),n.$$.dirty&98&&l(2,g=m&&s?[{type:"comp",priority:1,size:3,visible:"hidden @2xl:flex",component:ie,props:{links:c.tags.filter(o=>s[o].isCategory).map(o=>({url:z+(s[o].isCategory?"/category/":"/tag/")+encodeURIComponent(o),text:s[o].longName}))}}]:[])},[r,c,g,t,i,m,s,a,f]}class De extends T{constructor(e){super(),j(this,e,ge,pe,U,{index:0,challenge:1,listCategory:5})}}export{De as C,B as S};
